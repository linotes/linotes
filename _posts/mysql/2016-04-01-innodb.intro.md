---
toc: true
toc_label: "InnoDB 简介"
toc_icon: "copy"
title: "InnoDB 简介"
tags: InnoDB
categories: "mysql"
classes: wide
excerpt: ""
header:
  overlay_image: /assets/images/header/mysql.jpg
  overlay_filter: rgba(0, 0, 0, 0.8)
---







## InnoDB 简介

InnoDB 是一个通用的存储引擎，它在高可用与高性能之间有着比较好的平衡。在 MySQL 8.0 中，它是默认的存储引擎。




#### 优点

* 其 DML 操作遵循 ACID 模型，具有 **事务性** 的提交、回滚和故障恢复功能，便于保护用户数据。
* **精细到行的锁定**，Oracle 风格的一致读取，提升了多用户 **并发数** 及 **性能**。
* InnoDB 的表格可以 **管理磁盘中的数据**，以优化基于主键的查询。每个表格都有一个主键索引，称为集群索引，用它来组织数据，以减小用于寻找主键的 I/O。
* 为了保持数据的一致性，InnoDB 支持 `FOREIGN KEY` 约束，即 **外键约束**。使用外键以后，会检查插入、更新和删除的操作， 以确保它们不会导致不同表之间的不一致。
* 它有 **崩溃恢复功能** ：如果服务器由于硬件或软件故障而崩溃，不用考虑当时数据库当时发生了什么，重启数据库后不需要做任何特殊的操作。InnoDB 的会自动完成崩溃之前所提交的修改，回退尚未提交却当时正在进行的修改。
* InnoDB 存储引擎会维护其自己的 **缓冲池**，用于访问数据时，在内存中缓存表格和索引数据。经常使用的数据可以直接在内存中处理。该缓存可以用于多种类型的信息。在专用的数据库服务器上，通常超过 80% 的物理内存都分配给了缓冲池。
* **外键** 保证数据完整性：把相关的信息拆分到不同的表格中以后，可以通过设置外键来实现引用的完整性。更新或删除数据时，其它表格中相关的数据也会随之自动更新或删除。如果试图在第二个表中插入数据，但在第一个表格中没有对应的数据，插入会失败。
* 如果磁盘或内存中的数据被 **损坏**，校验机制会在用户使用数据之前发出 **警告**。
* 为数据库中的每个表格定义主键时，**针对主键的操作会被自动优化**。在 `WHERE`、`ORDER BY`、`GROUP BY` 等子句中，以及在使用连接操作符时，可以非常快速地引用主键字段。
* 插入、更新、删除会被 **自动优化**，该机制称为 **缓冲修改**，即 change buffering。InnoDB 不仅允许 **同时读、写** 同一个表格，还会把发生修改的数据缓存到流水线上的磁盘 I/O 中。
* 不仅是对巨大表格进行长时间的查询得到了性能的提升，当相同的行被反复访问时，会使用 **自适应哈希索引** 来优化，使查询变得更加快速，如同它们是从哈希表格里出来的。
* 可以 **压缩** 表格及相关索引。
* 创建或删除索引时，对性能与可用性的影响更小。
* 清空 `file-per-table` 表空间的速度非常快，并且可以释放用于操作系统重用的磁盘空间，而不是释放只有 InnoDB 可以重用的系统表空间。
* 表格数据的存储布局对于 BLOB 类型和 LONGTEXT 类型的字段更加高效，使用 `DYNAMIC` 行格式。
* 可以通过查询 `INFORMATION_SCHEMA` 表格来监测存储引擎内部的工作情况。
* 可以通过查询 `Performance Schema` 表格来监测存储引擎性能细节。





>DML：Data Manipulation Language。数据操作语言，是一组 SQL 语句，用于进行 `INSERT`、`UPDATE`、`DELETE` 等操作。

>ACID：Atomicity, Consistency, Isolation, Durability。原子性，一致性，独立性，耐用性。

>BLOB：Binary Large Object，二进制大对象。是数据库中用来存储二进制文件的字段类型，是一个可以存储二进制文件的容器。BLOB 是一个大文件，典型的是图片、音频、视频文件，由于它们的尺寸较大，必须使用特殊的方式来处理。
