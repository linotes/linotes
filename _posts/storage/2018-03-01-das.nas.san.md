---
toc: true
toc_label: "DAS, NAS, SAN 简介"
toc_icon: "code"
title: "DAS, NAS, SAN 简介"
tags: das nas san iscsi
categories: "storage"
classes: wide
excerpt: "常见存储方案"
header:
  overlay_image: /assets/images/header/programming.jpg
  overlay_filter: rgba(0, 0, 0, 0.6)
---

{% include figure image_path="/assets/images/das.nas.san.png" alt="DAS NAS SAN 的本质区别" %}


## DAS

Direct Attached Storage

直连存储，是指将存储设备通过总线（SCSI、PCI、IDE 等）接口直接连接到一台计算机上。

DAS 购置成本低，配置简单，因此对于小型企业很有吸引力。在中小企业中，许多数据应用必须安装在直连的 DAS 存储器上。

{% include figure image_path="/assets/images/storage-das.png" alt="" %}

采用 DAS 的服务器结构，其外部数据存储设备采用 SCSI 或 FC（Fibre Channel）技术，直接挂接在 **内部总线** 上的方式，数据存储是整个服务器结构的一部分。

DAS 这种直连方式，能够解决单台服务器的存储空间扩展、高性能传输需求，并且单台外置存储系统的容量，已经从不到 1TB，发展到了 2TB，随着大容量硬盘的推出，单台外置存储系统容量还会上升。此外，DAS 还可以构成基于 RAID 的双机高可用系统，满足数据存储对高可用的要求。从趋势上看，作为一种存储模式，DAS 仍然会继续得到应用。

DAS 不算是网络存储，因为 **只能被挂载它的主机访问**。因此，服务器发生故障时，连接在服务器上的 DAS 存储设备中的数据暂时不能被存取。


### 适用场景

* 服务器在地理分布上很分散，很难用 SAN 或 NAS 互连，如商店或银行的分支。
* 存储系统必须直连到服务器，如数据库应用、邮件服务等。





### 缺点

#### 占用主机资源

DAS **依赖** 主机的 **操作系统** 进行数据的 IO 读写和存储维护管理。

数据备份操作复杂。

在数据备份和恢复过程中，数据需要先回流到主机，再传输到直连的磁带机上。会占用较多的主机资源，约为 20-30%。因此许多企业用户的日常数据备份常常在深夜或业务系统不繁忙时进行，以免影响正常业务系统的运行。直连式存储的数据量越大，备份和恢复的时间就越长，对服务器硬件的依赖性和影响就越大。

#### 扩展性差

服务器本身容易成为系统瓶颈。

DAS 与主机通常采用 **SAS**（Serial SCSI） 连接。随着 CPU 的处理能力越来越强，硬盘空间越来越大，阵列的硬盘数量越来越多，SAS 通道将会成为 IO 的瓶颈；主机的 **SCSI ID 资源有限**，能够建立的 SAS 通道连接有限。

#### 不支持高可用

服务器发生故障，数据不可访问。DAS 在扩展存储阵列容量时，会造成业务系统的停机，从而给企业带来经济损失。对于银行、电信、传媒等行业7×24小时服务的关键业务系统，这是不可接受的。并且直连式存储或服务器主机的升级扩展，只能由原设备厂商提供，往往受原设备厂商限制。

#### 无法动态分配存储空间

对于存在多个服务器的系统来说，设备分散，不便管理。同时多台服务器使用DAS时，存储空间不能在服务器之间动态分配，可能造成相当的资源浪费。



















## NAS

Network Attached Storage

网络连接存储，采用网络（TCP/IP、ATM、FDDI）技术，通过网络交换机连接存储系统和服务器主机，建立专用于数据存储的存储私网。

NAS 被定义为一种特殊的专用数据存储服务器，包括存储设备（磁盘阵列、光驱、磁带驱动器、便携存储介质等）和内置的系统软件，可提供 **跨平台文件共享** 功能。

NAS 通常在一个 LAN 上占有自己的节点，无需应用服务器的干预，允许用户在网络上存取数据，在这种配置中，NAS 集中管理和处理网络上的所有数据，将负载从应用或企业服务器上分离开来，有效降低总拥有成本，保护用户投资。

NAS 本身能够支持多种协议（如 NFS、CIFS、FTP、HTTP 等），而且能够支持各种操作系统。通过任何一台工作站，用浏览器就可以对 NAS 设备进行直观方便的管理。

NAS 是一种专用数据存储服务器。它以数据为中心，将存储设备与服务器彻底分离，集中管理数据，从而释放带宽、提高性能、降低总拥有成本、保护投资。其成本远远低于使用服务器存储，而效率却远远高于后者。目前国际著名的 NAS 企业有 Netapp、EMC、OUO 等。

NAS 是 **文件级** 的存储方法，它的重点在于帮助工作组和部门级机构解决迅速增加存储容量的需求。NAS 主要用于文件共享，例如需要共享大型 CAD 文档的工程小组。

NAS 产品是真正即插即用的产品。NAS 设备一般支持多计算机平台，用户通过网络支持协议可进入相同的文档，因而 NAS 设备无需改造即可用于混合 Unix/Windows 局域网内。

{% include figure image_path="/assets/images/NAS-Diagram-932x523.gif" alt="" %}





### 优点

但 NAS 有一个关键性问题，即备份过程中的带宽消耗。NAS 仍使用网络进行备份和恢复，而在 SAN 中，备份数据流是独立于 LAN的不会受网络负载的影响。NAS 的一个缺点是它将存储事务由并行SCSI连接转移到了网络上。这就是说LAN除了必须处理正常的最终用户传输流外，还必须处理包括备份操作的存储磁盘请求。

















## SAN

Storage Area Network

存储区域网络，通过光纤通道连接到一群计算机上。在该网络中提供了多主机连接，但并非通过标准的网络拓扑。

{% include figure image_path="/assets/images/san1.jpg" alt="" %}
