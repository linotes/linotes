---
toc: true
toc_label: "运维排错思路"
toc_icon: "copy"
title: "运维排错思路"
tags: 运维 排错 思路
categories: "devop"
classes: wide
excerpt: "运维排错思路"
header:
  overlay_image: /assets/images/header/matrix2.jpg
  overlay_filter: rgba(0, 0, 0, 0.8)
---





## 通用步骤






#### 查看系统负载

* `top`




#### 查找可疑进程

* `top`
* `ps -ef`




#### 检查系统日志

* `dmesg`
* `/var/log/messages`























## 恶意程序



### 删除可疑程序


#### 定位可疑进程

* `ps -ef`
* `top`

#### 查找进程原始文件

* `ls -l`

#### 检查任务计划

有些恶意程序会使用 crontab 来进行任务计划。

```bash
more /etc/crontab | grep -v "^#"
```

#### 删除可疑文件

先删除可疑文件，避免可疑进程重新启动。

#### 杀掉可疑进程

```bash
ps -ef | grep "/usr/bin/.virus" | grep -v "grep" | awk '{print $2}' | xargs kill -9
```

#### 查看打开的文件

看当前系统打开的文件中是否还有可疑对象。

```bash
lsof -R | grep "/usr/bin"
```
